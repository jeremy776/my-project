<!DOCTYPE html>
<html>

<head>
	<title>My Projects</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdn.jsdelivr.net/npm/daisyui@2.51.3/dist/full.css" rel="stylesheet" type="text/css" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="/style.css" rel="stylesheet" />
</head>

<body>
	<div class="navbar bg-white text-black shadow">
		<div class="flex-none">
			<div class="dropdown">
				<label tabindex='0' class="outline-none btn btn-ghost btn-square m-1">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
						class="inline-block w-5 h-5 stroke-current">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
							d="M4 6h16M4 12h16M4 18h16">
						</path>
					</svg>
				</label>
				<ul class="dropdown-content menu p-2 shadow bg-white text-black rounded-box w-52">
					<li>
						<a href="/">Home</a>
					</li>
				</ul>
			</div>
		</div>
		<div class="flex-1">
			<a class="btn btn-ghost normal-case text-xl">MyTools</a>
		</div>
		<div class="flex-none">
		</div>
	</div>

	<div class="h-[80vh] bg-white">
		<div class="flex justify-center h-full items-center">
			<div class="max-w-7xl text-center">
				<h1 class="text-5xl font-extrabold font-mono text-gray-900">MyTool</h1>
				<p class="font-mono mt-4 bg-indigo-400 text-white p-2 shadow-xl rounded-md">Kumpulan tools yang dibuat karena hasil dari kegabutan</p>
			</div>
		</div>
	</div>

	<div class="bg-slate-100 text-black dark:text-gray-700">
		<h1 class="text-center pt-6 mb-4 text-4xl font-extrabold font-mono">List Tools</h1>
		<div id="project-list" class="p-4 flex gap-3 justify-center flex-wrap"></div>
	</div>

	<script>
		const username = "jeremy776";
		const repo = "tools";
		const path = "projects";
		const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/`;

		fetch(apiUrl)
			.then(response => response.json())
			.then(data => {
				const projectList = document.getElementById("project-list");
				const projects = data.filter(x => x.type === "dir");
				projects.forEach(project => {
					console.log(project.name)
					const card = document.createElement("a");
					card.className = "card rounded-md transition-all ease hover:bg-blue-600 hover:text-white px-4 shadow hover:shadow-xl py-4 bg-white";
					card.href = `https://${username}.github.io/${repo}/${project.name}`; //`https://github.com/${username}/${repo}/blob/master/${path}/${project.name}`;

					const title = document.createElement("h5");
					title.textContent = project.name;
					title.className = "text-xl font-mono"
					card.appendChild(title);

					projectList.appendChild(card);
				});
			})
			.catch(error => {
				console.error(error);
			});
	</script>
</body>

</html>